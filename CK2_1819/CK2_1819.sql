CREATE TABLE BACSI (
    MABS NUMBER CONSTRAINT PK_BS PRIMARY KEY,
    TENBS VARCHAR2(200)
);

CREATE TABLE BENHNHAN(
    MABN NUMBER CONSTRAINT PK_BN PRIMARY KEY,
    TENBN VARCHAR2(200),
    NGSINH DATE,
    DCHI VARCHAR2(200),
    DTHOAI VARCHAR2(200),
    GIOITINH VARCHAR2(200)
);

CREATE TABLE KHAMBENH(
    MAKB NUMBER CONSTRAINT PK_KB PRIMARY KEY,
    MABN NUMBER,
    MABS NUMBER,
    NGAYKHAM DATE,
    YEUCAUKHAM VARCHAR2(200),
    KETLUAN VARCHAR2(200),
    THANHTOAN VARCHAR2(200),
    CONSTRAINT FK_KB_BN FOREIGN KEY(MABN) REFERENCES BENHNHAN(MABN),
    CONSTRAINT FK_KB_BS FOREIGN KEY(MABS) REFERENCES BACSI(MABS)
)

CREATE TABLE DICHVU(
    MADV NUMBER CONSTRAINT PK_DV PRIMARY KEY,
    TENDV VARCHAR2(200),
    DONGIA NUMBER
)

CREATE TABLE THUPHI(
    MAKB NUMBER,
    MADV NUMBER,
    SOLUONG NUMBER,
    THANHTIEN NUMBER,
    CONSTRAINT PK_TP PRIMARY KEY (MAKB, MADV),
    CONSTRAINT FK_TP_KB FOREIGN KEY(MAKB) REFERENCES KHAMBENH(MAKB),
    CONSTRAINT FK_TP_DV FOREIGN KEY(MADV) REFERENCES DICHVU(MADV)
)

INSERT INTO BACSI VALUES (1001, 'NGUYEN A');
INSERT INTO BACSI VALUES (1002, 'NGUYEN B');
INSERT INTO BACSI VALUES (1003, 'NGUYEN C');
INSERT INTO BACSI VALUES (1004, 'NGUYEN D');

INSERT INTO BENHNHAN VALUES (2001, 'TRAN A', '01-JAN-02', 'KTX A', '0921211111','NU');
INSERT INTO BENHNHAN VALUES (2002, 'TRAN B', '01-JAN-02', 'KTX B', '0921211111','NAM');
INSERT INTO BENHNHAN VALUES (2003, 'TRAN C', '01-JAN-02', 'KTX A', '0921211111','NU');
INSERT INTO BENHNHAN VALUES (2004, 'TRAN D', '01-JAN-02', 'KTX B', '0921211111','NAM');

INSERT INTO KHAMBENH VALUES (3001, 2001, 1001, '03-JUN-22','A',NULL, NULL);
INSERT INTO KHAMBENH VALUES (3002, 2002, 1003, '03-JUN-22','B',NULL, NULL);
INSERT INTO KHAMBENH VALUES (3003, 2003, 1004, '03-JUN-22','C',NULL, NULL);
INSERT INTO KHAMBENH VALUES (3004, 2004, 1002, '03-JUN-22','D',NULL, NULL);

INSERT INTO DICHVU VALUES (4001, 'AA', 200000);
INSERT INTO DICHVU VALUES (4002, 'AB', 300000);
INSERT INTO DICHVU VALUES (4003, 'BB', 400000);


INSERT INTO THUPHI VALUES ('3001','4001', 2, 400000);
INSERT INTO THUPHI VALUES ('3002','4002', 1, 300000);
INSERT INTO THUPHI VALUES ('3003','4003', 2, 800000);
INSERT INTO THUPHI VALUES ('3004','4002', 2, 600000);




